.beta-page {
  @apply flex h-full min-h-0 w-full flex-1 items-start justify-center overflow-hidden py-4;
}

.beta-page__layout {
  @apply grid h-full min-h-0 w-full grid-cols-[minmax(0,1.78fr)_minmax(0,1.36fr)_minmax(0,1.06fr)] gap-4 overflow-hidden px-3 pr-4;
  width: min(96vw, 100rem);
}

.beta-page__column {
  min-width: 0;
  min-height: 0;
}

.beta-page__column--left {
  @apply grid h-full min-h-0 content-start gap-4 overflow-hidden;
  grid-template-rows: auto auto;
}

.beta-page__column--middle {
  @apply grid h-full min-h-0 content-start gap-4 overflow-hidden;
  grid-template-rows: auto auto;
}

.beta-page__column--right {
  @apply flex h-full min-h-0 flex-col overflow-hidden;
}

.beta-page__slot {
  min-width: 0;
  min-height: 0;
}

.beta-page__slot > * {
  @apply w-full;
}

.beta-page__slot--spx,
.beta-page__slot--stoxx {
  aspect-ratio: 5 / 3;
}

.beta-page__slot--spx .index-chart,
.beta-page__slot--stoxx .index-chart {
  @apply h-full min-h-0;
  max-height: none;
}

/* Keep major compact so industry can use the remaining vertical space without dead area. */
.beta-page__slot--major .major-indexes {
  height: auto;
  min-height: 0;
  max-height: none;
}

.beta-page__slot--industry .industry-overview {
  height: auto;
  min-height: 0;
  max-height: none;
}

.beta-page__slot--watchlist .major-indexes {
  @apply h-full min-h-0;
  max-height: none;
}

.beta-page__slot--watchlist .major-indexes__body {
  overflow-y: auto;
  overflow-x: hidden;
}

@media (max-width: 1280px) {
  .beta-page__layout {
    @apply h-auto grid-cols-[minmax(0,1fr)_minmax(0,1fr)] overflow-visible px-4 pr-4;
  }

  .beta-page__column--left,
  .beta-page__column--middle,
  .beta-page__column--right {
    @apply h-auto overflow-visible;
  }

  .beta-page__column--left {
    grid-column: 1 / 2;
    grid-row: 1 / 3;
  }

  .beta-page__column--middle {
    grid-column: 2 / 3;
    grid-row: 1 / 3;
  }

  .beta-page__column--right {
    grid-column: 1 / 3;
    grid-row: 3 / 4;
  }

  .beta-page__slot--spx .index-chart,
  .beta-page__slot--stoxx .index-chart,
  .beta-page__slot--major .major-indexes,
  .beta-page__slot--industry .industry-overview,
  .beta-page__slot--watchlist .major-indexes {
    height: 22rem;
    min-height: 22rem;
    max-height: 22rem;
  }

  .beta-page__slot--spx,
  .beta-page__slot--stoxx {
    aspect-ratio: auto;
  }
}

@media (max-width: 1024px) {
  .beta-page {
    @apply h-auto min-h-0 overflow-visible pb-2;
  }

  .beta-page__layout {
    @apply h-auto grid-cols-1 overflow-visible px-3 pr-3;
  }

  .beta-page__column--left,
  .beta-page__column--middle,
  .beta-page__column--right {
    @apply grid-cols-1 h-auto overflow-visible;
    grid-column: auto;
    grid-row: auto;
  }

  .beta-page__column--left {
    grid-template-rows: none;
  }

  .beta-page__column--middle {
    grid-template-rows: none;
  }

  .beta-page__slot--spx .index-chart,
  .beta-page__slot--stoxx .index-chart,
  .beta-page__slot--major .major-indexes,
  .beta-page__slot--industry .industry-overview,
  .beta-page__slot--watchlist .major-indexes {
    height: auto;
    max-height: none;
    min-height: 18rem;
  }

  .beta-page__slot--spx,
  .beta-page__slot--stoxx {
    aspect-ratio: auto;
  }
}
